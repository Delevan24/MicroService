# ~~Java8函数之旅 （一） 开始认识lambda

系列之前我想说的

  最近有一段时间没写博客了，这几天回到学校，才闲下来，决定写一写最近学习到的知识，既是为了分享，也是为了巩固。之前看到过一篇调查，调查说的是学习新知识，光只是看的话，知识的获取率只有5%，依次往后是实践，练习，举一反三等，最后一步就是能将知识教授给别人，最后一步的知识获取率能够达到95%，虽然说数据不一定准确，但是趋势是应该是没差的。
  写博客，就是属于教授知识的别人的一种方式，虽然博客或许不会有其他人来看，但是至少他有一个用户，就是自己，我发现我前面博客的一些毛病，就是写的太简单，没有条理，没有逻辑，连我自己看了有时候都不知道其所以然，因此这种博客写出来是没有意义的，无论是对自己，还是对他人，作用都是十分小的，也达不到分享的作用，更不用谈提高，巩固自己的水平了。
  从这篇博客开始，我决定开始注重博客的质量，当然质量这个东西，仁者见仁，智者见智，我认为的质量就是能够把你想表达的东西表达清楚，让一个不懂这个知识的人，能开始入门了解，如果是进阶类的文章，则可以让有一定基础的人，至少从中收获一点点东西，哪怕是一行代码，一个公式，一种思考的方法，都是有质量的。所以醒醒吧，天底下没有那么多聪明人，也不需要那么多聪明人，聪明人有时候并不被社会，被人们所容纳，因为他们与他人脱离开来了，整天谈论看似高深的技术，你真的就聪明了吗？人们更喜欢可爱的愚人，而愚人教授的知识，更能让他人接受，所以做一个愚人是我的目标:)。
  		
	感慨完了，那就开始吧，每个知识系列的每一章，内容可能不是很多，也不算高深，但我力求能让人理解，也让自己理解，毕竟我也是还没毕业的菜鸟，在编程这一行只能算是LEVEL 1 吧:)。因此本系列博客，是基于我看的众多介绍JDK8的博客与社区（例如javarevisited）以及书籍的一些个人整理与思考，本系列很多思路来自于Richard Warburton的《Java8 函数式编程》。


前言

  本系列博客，介绍的是JDK8 的函数式编程，那么第一个问题就出现了，为什么要出现JDK8？

  JAVA不是已经很好，很强大了吗，很多公司用的还是1.6，1.7呀，1.8有必要吗？更不要提即将问世的JDK9了，鲁迅的《拿来主义》说过这么一句话

去其糟粕，取其精华

  JAVA如果真的这么完美无缺，那为什么还会有其他语言的兴盛呢？所以说，没有一样东西是绝对完美的，JDK8包括之后的版本，就是不断的完善JAVA语言，让它往更好的方向上去走，面向过程有它的缺点，然而无疑也有它的优点，在JAVA8 之前，JAVA欠缺了高效的并行操作，写一个并行程序代码往往是费事费力又不讨好，然而在JAVA8之上，只需要简单的修改几行代码，就可以让代码在多核CPU上完美运行，所以为了达到这个效果，编写这样的JDK类库，就需要在语言层次上修改现有的JAVA,因此,在JAVA中增加Lambda表达式就是刻不容缓的任务了--事实上在2011年的JDK7版本中预计就要引入Lambda，但是因为种种原因，计划最终推迟到了2014年的JDK8。
  为了达到高效操作集合类，实现并行计算或者操作的目的，你得要学习来自JDK8的新的语法，并且要从面相对象编程的局限中稍微跳出来一些，但是比起之前手写一大段代码，我觉得这样的学习是十分值得也是十分必要的，节省了时间与成本，同时也更不容易出错！站在巨人的肩膀上，这是任何一个人都需要借鉴的方法，为什么每次JDK版本的变更都历时几年？oracle的工程师并不是傻瓜，尤其是在编写JDK类库上，借用他人的代码并不是可耻的行为，新的代码更加高效，并且更让人容易阅读，这种新代码更加关注的它所实现的业务逻辑，而并非实现机制，所以你看即使是引入了Lambda，从某种意义上来说，这依旧是面向对象的一种实现方法--关注的并非实现机制，这样的代码更容易维护，也更不容易出错。

什么是函数式编程

  函数式编程，这个词语由两个名词构成，函数，编程。编程这个词我就不用解释了，大家都是做这个的。函数，其实单独抽离出来这个词语，也并不陌生，函数是什么？初中数学就开始学函数了，当然这里又引申出一个话题，数学与编程语言的关系，这个话题以后有时间再聊（当然很有可能以后忘记了 :-D）。
                     
 F(x)=x+1F(x)=x+1

   这就是一个函数呀，所以尽管每个人对函数式编程的理解各不相同，但核心思想都是基于函数上的，也就是说：使用一个不可变的值与函数，对参数进行处理，从而映射成另外一个值。如上图的F（x）=x+1，你将1放进去，f(1)永远是等于2,1->f(1),将1映射成了f(1)，而f(1)永远是等于2的。
   

当然函数式编程如果扯开来，要说很多，我这里只是作一个简单的介绍，本系列博客的目的也不是和大家谈什么叫函数，我的目的是如何写高效，易于阅读维护的代码，以及如何更好的利用JDK8的新特性。

Your first Lambda expression

  开始使用Java 8时，首先做的就是使用lambda表达式替换匿名类，而实现Runnable接口是匿名类的最好示例。看一下Java 8之前的runnable实现方法，需要4行代码，而使用lambda表达式只需要一行代码。我们在这里做了什么呢？那就是用() -> {}代码块替代了整个匿名类。

// Java 8之前：

	new Thread(new Runnable() {
    @Override
    public void run() {
    System.out.println("Before Java8, too much code for too little to do");
    }
	}).start();

//Java 8方式：
new Thread( () -> System.out.println("In Java8, Lambda expression rocks !!") ).start();
输出：

too much code, for too little to do

Lambda expression rocks !!

这个例子向我们展示了Java 8 lambda表达式的语法。你可以使用lambda写出如下代码：

(params) -> expression

(params) -> statement

(params) -> { statements }

例如，如果你的方法不对参数进行修改、重写，只是在控制台打印点东西的话，那么可以这样写：

() -> System.out.println("Hello Lambda Expressions");
如果你的方法接收两个参数，那么可以写成如下这样：

(int even, int odd) -> even + odd
顺便提一句，通常都会把lambda表达式内部变量的名字起得短一些。这样能使代码更简短，放在同一行。所以，在上述代码中，变量名选用a、b或者x、y会比even、odd要好。

因此总结一下的格式是
params=参数,your Code=你的代码,results=返回值

(params,params) -> {your Code}
如果只有一个参数或者一行代码的话 可以将括号省略掉，于是就变成了

params -> your Code
如果是有返回值是的话是

（params） -> {return results}
同样，这种return只有一行的话,也可以简写，例如

x -> x+1
这就等效于

(x) -> {return x+1}
本篇小结
  本篇简单的介绍了java8为什么要引入lambda以及程序猿们为什么要学习这样的语法，并且以一个Runnable接口为例子介绍了一下lambda的语法。
  下一篇将介绍java8中新增的类库stream流的相关操作,这将大大简化java程序员们对于集合的操作。~~